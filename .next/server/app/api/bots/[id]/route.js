"use strict";(()=>{var e={};e.id=639,e.ids=[639],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},797:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>x,routeModule:()=>c,serverHooks:()=>v,staticGenerationAsyncStorage:()=>b});var s={};t.r(s),t.d(s,{DELETE:()=>l,GET:()=>d,PUT:()=>p});var o=t(9303),n=t(8716),a=t(670),i=t(7070),u=t(5662);async function d(e,{params:r}){try{let t=e.headers.get("x-user-id")||"u1",{data:s,error:o}=await u.O.from("bots").select("*").eq("id",r.id).eq("user_id",t).eq("deleted_at",null).single();if(o||!s)return i.NextResponse.json({error:"Bot not found"},{status:404});return i.NextResponse.json({bot:s})}catch(e){return console.error("API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e,{params:r}){try{let t=e.headers.get("x-user-id")||"u1",{id:s,user_id:o,created_at:n,...a}=await e.json(),d={};Object.keys(a).forEach(e=>{d[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=a[e]});let{data:p,error:l}=await u.O.from("bots").update(d).eq("id",r.id).eq("user_id",t).select().single();if(l||!p)return i.NextResponse.json({error:"Failed to update bot"},{status:500});return i.NextResponse.json({bot:p})}catch(e){return console.error("API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function l(e,{params:r}){try{let t=e.headers.get("x-user-id")||"u1",{error:s}=await u.O.from("bots").update({deleted_at:new Date().toISOString()}).eq("id",r.id).eq("user_id",t);if(s)return i.NextResponse.json({error:"Failed to delete bot"},{status:500});return i.NextResponse.json({success:!0})}catch(e){return console.error("API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/bots/[id]/route",pathname:"/api/bots/[id]",filename:"route",bundlePath:"app/api/bots/[id]/route"},resolvedPagePath:"C:\\react\\BuildMyBot.App\\app\\api\\bots\\[id]\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:b,serverHooks:v}=c,f="/api/bots/[id]/route";function h(){return(0,a.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:b})}},5662:(e,r,t)=>{t.d(r,{O:()=>a});var s=t(5674);let o=process.env.NEXT_PUBLIC_SUPABASE_URL||"",n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";o&&n||console.warn("Supabase environment variables are not set");let a=(0,s.eI)(o,n)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,547],()=>t(797));module.exports=s})();